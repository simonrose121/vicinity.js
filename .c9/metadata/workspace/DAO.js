{"filter":false,"title":"DAO.js","tooltip":"/DAO.js","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":496,"column":26},"end":{"row":496,"column":27},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":496,"column":27},"end":{"row":496,"column":28},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":496,"column":28},"end":{"row":496,"column":29},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":496,"column":29},"end":{"row":496,"column":30},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":496,"column":29},"end":{"row":496,"column":30},"action":"remove","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":496,"column":29},"end":{"row":496,"column":30},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":496,"column":30},"end":{"row":496,"column":31},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":496,"column":31},"end":{"row":496,"column":33},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":496,"column":32},"end":{"row":496,"column":33},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":496,"column":33},"end":{"row":496,"column":34},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":496,"column":34},"end":{"row":496,"column":35},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":496,"column":35},"end":{"row":496,"column":36},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":496,"column":37},"end":{"row":496,"column":38},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":496,"column":0},"end":{"row":496,"column":38},"action":"remove","lines":["                    console.log(ways);"]}]}],[{"group":"doc","deltas":[{"start":{"row":495,"column":60},"end":{"row":496,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":536,"column":0},"end":{"row":537,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":0},"end":{"row":538,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":0},"end":{"row":562,"column":2},"action":"insert","lines":["DAO.prototype.getWaysInRelation = function(id, callback) {","    // keep hold of current context","    var that = this;","    this.relationSchema.findById(id, function(err, relation) {","        if (err) {","            return console.error(err);","        } else {","            if (relation.ways_.length > 0) {","                var ways = [];","                for (var i = 0; i < relation.ways_.length; i++) {","                    // need to be strings for in to work","                    ways.push(relation.ways_[i].toString());","                }","                that.waySchema.find({_id: { $in: ways } }, function(err, ways) {","                    if (err) {","                        return console.log(err);","                    } else {","                        callback('found ways', ways);","                    }","                });","            } else {","                callback('no ways');","            }","        }","    }); ","};"]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":17},"end":{"row":537,"column":21},"action":"remove","lines":["Ways"]},{"start":{"row":537,"column":17},"end":{"row":537,"column":18},"action":"insert","lines":["R"]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":18},"end":{"row":537,"column":19},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":19},"end":{"row":537,"column":20},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":20},"end":{"row":537,"column":21},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":21},"end":{"row":537,"column":22},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":22},"end":{"row":537,"column":23},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":23},"end":{"row":537,"column":24},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":24},"end":{"row":537,"column":25},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":25},"end":{"row":537,"column":26},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":25},"end":{"row":537,"column":26},"action":"remove","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":24},"end":{"row":537,"column":25},"action":"remove","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":24},"end":{"row":537,"column":25},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":537,"column":25},"end":{"row":537,"column":26},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":21},"end":{"row":550,"column":30},"action":"remove","lines":["waySchema"]},{"start":{"row":550,"column":21},"end":{"row":550,"column":22},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":22},"end":{"row":550,"column":23},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":23},"end":{"row":550,"column":24},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":24},"end":{"row":550,"column":25},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":25},"end":{"row":550,"column":26},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":26},"end":{"row":550,"column":27},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":27},"end":{"row":550,"column":28},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":28},"end":{"row":550,"column":29},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":21},"end":{"row":550,"column":29},"action":"remove","lines":["relation"]},{"start":{"row":550,"column":21},"end":{"row":550,"column":35},"action":"insert","lines":["relationSchema"]}]}],[{"group":"doc","deltas":[{"start":{"row":544,"column":25},"end":{"row":544,"column":30},"action":"remove","lines":["ways_"]},{"start":{"row":544,"column":25},"end":{"row":544,"column":26},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":544,"column":26},"end":{"row":544,"column":27},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":544,"column":27},"end":{"row":544,"column":28},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":544,"column":28},"end":{"row":544,"column":29},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":544,"column":29},"end":{"row":544,"column":30},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":544,"column":30},"end":{"row":544,"column":31},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":544,"column":31},"end":{"row":544,"column":32},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":544,"column":32},"end":{"row":544,"column":33},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":544,"column":33},"end":{"row":544,"column":34},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":544,"column":34},"end":{"row":544,"column":35},"action":"insert","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":546,"column":45},"end":{"row":546,"column":50},"action":"remove","lines":["ways_"]},{"start":{"row":546,"column":45},"end":{"row":546,"column":55},"action":"insert","lines":["relations_"]}]}],[{"group":"doc","deltas":[{"start":{"row":545,"column":20},"end":{"row":545,"column":24},"action":"remove","lines":["ways"]},{"start":{"row":545,"column":20},"end":{"row":545,"column":21},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":545,"column":21},"end":{"row":545,"column":22},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":545,"column":22},"end":{"row":545,"column":23},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":545,"column":23},"end":{"row":545,"column":24},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":545,"column":24},"end":{"row":545,"column":25},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":545,"column":25},"end":{"row":545,"column":26},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":545,"column":26},"end":{"row":545,"column":27},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":545,"column":27},"end":{"row":545,"column":28},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":545,"column":28},"end":{"row":545,"column":29},"action":"insert","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":545,"column":28},"end":{"row":545,"column":29},"action":"remove","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":545,"column":28},"end":{"row":545,"column":29},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":548,"column":20},"end":{"row":548,"column":24},"action":"remove","lines":["ways"]},{"start":{"row":548,"column":20},"end":{"row":548,"column":29},"action":"insert","lines":["relations"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":54},"end":{"row":550,"column":58},"action":"remove","lines":["ways"]},{"start":{"row":550,"column":54},"end":{"row":550,"column":63},"action":"insert","lines":["relations"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":83},"end":{"row":550,"column":87},"action":"remove","lines":["ways"]},{"start":{"row":550,"column":83},"end":{"row":550,"column":84},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":84},"end":{"row":550,"column":85},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":85},"end":{"row":550,"column":86},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":86},"end":{"row":550,"column":87},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":87},"end":{"row":550,"column":88},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":88},"end":{"row":550,"column":97},"action":"insert","lines":["relations"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":88},"end":{"row":550,"column":89},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":550,"column":88},"end":{"row":550,"column":89},"action":"insert","lines":["R"]}]}],[{"group":"doc","deltas":[{"start":{"row":554,"column":47},"end":{"row":554,"column":51},"action":"remove","lines":["ways"]},{"start":{"row":554,"column":47},"end":{"row":554,"column":61},"action":"insert","lines":["foundRelations"]}]}],[{"group":"doc","deltas":[{"start":{"row":497,"column":73},"end":{"row":497,"column":74},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":497,"column":74},"end":{"row":497,"column":75},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":497,"column":75},"end":{"row":497,"column":76},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":497,"column":76},"end":{"row":497,"column":77},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":497,"column":77},"end":{"row":497,"column":78},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":497,"column":78},"end":{"row":497,"column":79},"action":"remove","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":497,"column":78},"end":{"row":497,"column":79},"action":"insert","lines":["W"]}]}],[{"group":"doc","deltas":[{"start":{"row":501,"column":47},"end":{"row":501,"column":51},"action":"remove","lines":["ways"]},{"start":{"row":501,"column":47},"end":{"row":501,"column":56},"action":"insert","lines":["foundWays"]}]}],[{"group":"doc","deltas":[{"start":{"row":554,"column":40},"end":{"row":554,"column":44},"action":"remove","lines":["ways"]},{"start":{"row":554,"column":40},"end":{"row":554,"column":41},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":554,"column":41},"end":{"row":554,"column":42},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":554,"column":42},"end":{"row":554,"column":43},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":554,"column":43},"end":{"row":554,"column":44},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":554,"column":44},"end":{"row":554,"column":45},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":554,"column":45},"end":{"row":554,"column":46},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":554,"column":46},"end":{"row":554,"column":47},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":554,"column":47},"end":{"row":554,"column":48},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":554,"column":48},"end":{"row":554,"column":49},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":558,"column":29},"end":{"row":558,"column":33},"action":"remove","lines":["ways"]},{"start":{"row":558,"column":29},"end":{"row":558,"column":38},"action":"insert","lines":["relations"]}]}],[{"group":"doc","deltas":[{"start":{"row":548,"column":44},"end":{"row":548,"column":49},"action":"remove","lines":["ways_"]},{"start":{"row":548,"column":44},"end":{"row":548,"column":45},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":548,"column":45},"end":{"row":548,"column":46},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":548,"column":46},"end":{"row":548,"column":47},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":548,"column":47},"end":{"row":548,"column":48},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":548,"column":48},"end":{"row":548,"column":49},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":548,"column":49},"end":{"row":548,"column":50},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":548,"column":50},"end":{"row":548,"column":51},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":548,"column":51},"end":{"row":548,"column":52},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":548,"column":52},"end":{"row":548,"column":53},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":548,"column":44},"end":{"row":548,"column":53},"action":"remove","lines":["relations"]},{"start":{"row":548,"column":44},"end":{"row":548,"column":54},"action":"insert","lines":["relations_"]}]}]]},"ace":{"folds":[],"customSyntax":"javascript","scrolltop":6967,"scrollleft":0,"selection":{"start":{"row":541,"column":18},"end":{"row":541,"column":18},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":46,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1426611424140,"hash":"3ff18281047a9c817d8a755b0d2cf9de66f0b241"}